<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:body>
	<ui:composition template="/template/layout.xhtml">
		<ui:define name="content">
			<h:form>
			<div id="content" class="float_r">
				<h1>Shopping Cart</h1>
				<c:set var="sc" value="${customerController.shoppingCart}" />
				<table width="680px" cellspacing="0" cellpadding="5">
					<tr bgcolor="#ddd">
						<th width="220" align="left">Image</th>
						<th width="180" align="left">Description</th>
						<th width="100" align="center">Quantity</th>
						<th width="60" align="right">Price</th>
						<th width="60" align="right">Total</th>
						<th width="90"></th>

					</tr>
					<c:forEach items="${sc.items}" var="item">
						<tr>
							<td><h:graphicImage value="/${item.product.image.name}" /></td>					
							<td>${item.product.name}</td>
							<td align="center">
								<input type="text" value="${item.quantity}" style="width: 20px; text-align: right" />
							</td>
							<td align="right">$ ${item.price}</td>
							<td align="right">$ ${item.totalPrice}</td>
							<td align="center">
								<!-- <a href="#"><img src="images/remove_x.gif" alt="remove" /><br />Remove</a> -->
								<h:commandLink action="${productController.removeFromShoppingCart(item.id)}" >
									<h:graphicImage value="images/remove_x.gif"/>
								</h:commandLink>
							</td>
						</tr>
					</c:forEach>
					<!-- <tr>
						<td><img src="images/product/01.jpg" alt="image 1" /></td>
						<td>Etiam in tellus (Validate <a
							href="http://validator.w3.org/check?uri=referer" rel="nofollow">XHTML</a>
							&amp; <a href="http://jigsaw.w3.org/css-validator/check/referer"
							rel="nofollow">CSS</a>)
						</td>
						<td align="center">
						<input type="text" value="1" style="width: 20px; text-align: right" />
						</td>
						<td align="right">$100</td>
						<td align="right">$100</td>
						<td align="center"><a href="#"><img
								src="images/remove_x.gif" alt="remove" /><br />Remove</a></td>
					</tr>
					<tr>
						<td><img src="images/product/02.jpg" alt="image 2" /></td>
						<td>Second Red Shoes</td>
						<td align="center"><input type="text" value="1"
							style="width: 20px; text-align: right" /></td>
						<td align="right">$80</td>
						<td align="right">$80</td>
						<td align="center"><a href="#"><img
								src="images/remove_x.gif" alt="remove" /><br />Remove</a></td>
					</tr>
					<tr>
						<td><img src="images/product/03.jpg" alt="image 3" /></td>
						<td>Hendrerit justo</td>
						<td align="center"><input type="text" value="1"
							style="width: 20px; text-align: right" /></td>
						<td align="right">$60</td>
						<td align="right">$60</td>
						<td align="center"><a href="#"><img
								src="images/remove_x.gif" alt="remove" /><br />Remove</a></td>
					</tr>
					<tr>
						<td colspan="3" align="right" height="30px">Have you modified
							your basket? Please click here to <a href="shoppingcart.html"><strong>Update</strong></a>&nbsp;&nbsp;
						</td>
						<td align="right" style="background: #ddd; font-weight: bold">
							Total</td>
						<td align="right" style="background: #ddd; font-weight: bold">$240
						</td>
						<td style="background: #ddd; font-weight: bold"></td>
					</tr> -->
				</table>
				<div style="float: right; width: 215px; margin-top: 20px;">
					<p>
						<!-- <a href="checkout.html">Proceed to checkout</a> -->
						<h:link outcome="checkout" value="Proceed to checkout"/>
					</p>
					<p>
						<a href="javascript:history.back()">Continue shopping</a>
					</p>
				</div>
			</div>
			</h:form>
			<div class="cleaner"></div>

		</ui:define>
	</ui:composition>
</h:body>
</html>
