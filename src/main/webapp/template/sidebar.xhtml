<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<body>
	<ui:composition>

		<div id="sidebar" class="float_l">
			<div class="sidebar_box">
				<span class="bottom"></span>
				<h3>Categories</h3>
				<div class="content">
					<ul class="sidebar_list">

						<c:forEach items="${categoryController.all}" var="cat"
							varStatus="loop">
							<c:choose>
								<c:when test="${loop.first}">
									<li class="first"><h:link outcome="category" value="${cat.name}"><f:param name="category_id" value="${cat.id}" /></h:link></li>
								</c:when>
								<c:when test="${loop.last}">
									<li class="last"><h:link outcome="category" value="${cat.name}"><f:param name="category_id" value="${cat.id}" /></h:link></li>
								</c:when>
								<c:otherwise>
									<li><h:link outcome="category" value="${cat.name}"><f:param name="category_id" value="${cat.id}" /></h:link></li>
								</c:otherwise>
							</c:choose>
						</c:forEach>

					</ul>
				</div>
			</div>
			
			<div class="sidebar_box">
				<span class="bottom"></span>
				<h3>Bestsellers</h3>
				<div class="content">
					<c:forEach items="${productController.mostOrdered}" var="p" varStatus="loop">
						<div class="bs_box">
							
							<h:link outcome="productdetail">
								<h:graphicImage value="/#{p.image.name}" style="width:60px;height:60px;" />
								<f:param name="product_id" value="${p.id}" />
							</h:link>
							<h4>
								<h:link outcome="productdetail" value="${p.name}">
									<f:param name="product_id" value="${p.id}" />
								</h:link>
							</h4>
							<p class="price">$ ${p.price}</p>
							<div class="cleaner"></div>
						</div>
					</c:forEach>
				</div>
			</div>		
		</div>
	</ui:composition>
</body>
</html>