<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:body>

	<ui:composition template="/template/layout.xhtml">
	
		<ui:define name="content">
			
			<c:set var="product" value="${productController.product}" scope="request" />
			
			<div id="content" class="float_r">
				<h1>Product Detail</h1>
				<div class="content_half float_l">
					<a rel="lightbox[portfolio]" href="images/product/10_l.jpg"><img
						src="images/product/10.jpg" alt="image" /></a>
				</div>
				<div class="content_half float_r">
					<h:form>
						<table>
							<c:if test="${productController.admin != null}">
									<tr>
										<td>Costumer Price </td>
										<td><h:inputText id="costumerPrice" required="true"
												value="$ ${product.price}" />
										</td>
										<td>
											<h:button value= "Save"></h:button>
										</td>
									</tr>
									<tr>
										<td>Provider Price:</td>
										<td>$ 20</td>
									</tr>
							</c:if>
							<c:if test="${productController.admin == null}">
								<tr>
									<td width="160">Price:</td>
									<td>$ ${product.price}</td>
								</tr>
							</c:if>
							<tr>									
								<td>Availability:</td>
								<td>In Stock</td>
							</tr>
							<tr>
								<td>Model:</td>
								<td>${product.name}</td>
							</tr>
							<tr>
								<td>Manufacturer:</td>
								<td>${product.brand}</td>
							</tr>
							<tr>
								<td>Color:</td>
								<td>
									<h:selectOneMenu value="#{productController.selectedColor}" >
										<f:selectItem itemValue="#{null}" itemLabel="-- select one --" />
						                <f:selectItems value="#{productController.colors}" />
						                <f:ajax listener="#{productController.listener}" render="sizes" />
						            </h:selectOneMenu>
								</td>
							</tr>
							<tr>
								<td>Size:</td>
								<td>
									<h:selectOneMenu value="#{productController.selectedSize}" id="sizes">
										<f:selectItem itemValue="#{null}" itemLabel="-- select one --" />
						                <f:selectItems value="#{productController.sizes}" var="s" itemValue="#{s}" itemLabel="#{s.label}"/>
						            </h:selectOneMenu>
								</td>
							</tr>
							<tr>
								<td>Quantity</td>
								<td>
									<h:inputText style="width: 20px; text-align: right" value="${productController.selectedQuantity}" />
									<!-- <input type="text" value="1" style="width: 20px; text-align: right" /> -->
								</td>
							</tr>
						</table>
						<h:messages />

						<div class="cleaner h20" />
						
						<h:commandLink action="${productController.addToShoppingCart()}" class="addtocart"/>
						
					</h:form>
				</div>
				<div class="cleaner h30"></div>

				<h5>Product Description</h5>
				<p>${product.description}</p>

				<div class="cleaner h50"></div>
				
				<!-- TODO display the products from the same category -->
				<h3>Related Products (TODO)</h3>
				<div class="product_box">
					<a href="productdetail.html"><img src="images/product/01.jpg"
						alt="" /></a>
					<h3>Ut eu feugiat</h3>
					<p class="product_price">$ 100</p>
					<a href="shoppingcart.html" class="addtocart"></a> <a
						href="productdetail.html" class="detail"></a>
				</div>
				<div class="product_box">
					<a href="productdetail.html"><img src="images/product/02.jpg"
						alt="" /></a>
					<h3>Curabitur et turpis</h3>
					<p class="product_price">$ 200</p>
					<a href="shoppingcart.html" class="addtocart"></a> <a
						href="productdetail.html" class="detail"></a>
				</div>
				<div class="product_box no_margin_right">
					<a href="productdetail.html"><img src="images/product/03.jpg"
						alt="" /></a>
					<h3>Mauris consectetur</h3>
					<p class="product_price">$ 120</p>
					<a href="shoppingcart.html" class="addtocart"></a> <a
						href="productdetail.html" class="detail"></a>
				</div>
			</div>
			<div class="cleaner"></div>

		</ui:define>

	</ui:composition>

</h:body>

</html>
